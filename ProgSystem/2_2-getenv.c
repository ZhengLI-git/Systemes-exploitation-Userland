/*
 * Auteur(s):Zheng LI
 *
 * Cet programme affiche la valeur d’une variable d’environnement dont on passe le nom en  
 * paramètre du programme. 
 * 
 * Utilisation de l'environ.
 */


#include <stdio.h>
#include <stdlib.h>
#include <string.h>
/* lorsque nous saisissons $ ./2_2-getenv PATH dans le terminal,
il nous montrera:  Variable d’environnement : /home/zheng/anaconda3/condabin:/home/zheng/bin:/home/zheng/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin
*/
extern char** environ;
int main (int argc, char **argv)
{
    char** env = environ;
    while (*env) {
        if (strncmp(*env,argv[1],strlen(argv[1])) == 0 )//Comparer les caractères de deux chaînes
            printf("Variable d’environnement : %s\n", (*env)+strlen(argv[1])+1);
        env++;
    }
    
    return EXIT_SUCCESS;
}
